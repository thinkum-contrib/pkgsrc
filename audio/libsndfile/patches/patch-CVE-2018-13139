$NetBSD: patch-CVE-2018-13139,v 1.1 2019/07/14 15:39:32 nia Exp $

Fixes: CVE-2018-13139, CVE-2018-19432

Upstream commit:
https://github.com/erikd/libsndfile/commit/df18323c622b54221ee7ace74b177cdcccc152d7.patch

--- programs/sndfile-deinterleave.c.orig	2016-04-01 21:08:52.000000000 +0000
+++ programs/sndfile-deinterleave.c
@@ -89,6 +89,13 @@ main (int argc, char **argv)
 		exit (1) ;
 		} ;
 
+	if (sfinfo.channels > MAX_CHANNELS)
+	{	printf ("\nError : Input file '%s' has too many (%d) channels. Limit is %d.\n",
+			argv [1], sfinfo.channels, MAX_CHANNELS) ;
+		exit (1) ;
+		} ;
+
+
 	state.channels = sfinfo.channels ;
 	sfinfo.channels = 1 ;
 
